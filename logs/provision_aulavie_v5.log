[12:22:52] INFO: Conectando a https://aulavie.xtd.es/ (db=aulavie)...
[12:22:53] INFO: Conexión establecida. uid=2 db=aulavie
[12:22:53] INFO: Verificando idioma: es_ES
[12:22:54] INFO: Idioma es_ES activado.
[12:22:54] INFO: Verificando idioma: en_US
[12:22:55] INFO: Idioma en_US activado.
[12:22:55] INFO: Idiomas verificados.
[12:22:55] INFO: Configurando parámetro web.base.url = https://aulavie.xtd.es/
[12:22:56] INFO: Configurando parámetro mail.catchall.domain = xtd.es
[12:22:57] INFO: Configurando parámetro mail.catchall.alias = catchall
[12:22:58] INFO: Configurando parámetro mail.bounce.alias = bounce
[12:22:59] INFO: Parámetros del sistema aplicados.
[12:22:59] INFO: Verificando configuración de compañía...
[12:23:01] INFO: Compañía actualizada: Aulavie
[12:23:01] INFO: Verificando instalación de módulos: ['base', 'contacts', 'mail', 'account', 'website', 'crm', 'l10n_es', 'sale', 'purchase']
[12:23:02] INFO: Todos los módulos ya están instalados.
[12:23:02] INFO: Proceso de módulos finalizado.
[12:23:02] INFO: Procesando usuario: xtendoo
[12:23:02] INFO:   Usuario xtendoo actualizado.
[12:23:05] ERROR: Odoo Fault en ir.actions.server.run: 1 - Traceback (most recent call last):
  File "/opt/odoo/custom/src/odoo/odoo/orm/models.py", line 4381, in write
    self._check_field_access(self._fields[field_name], 'write')
                             ~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'users'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/odoo/custom/src/odoo/odoo/tools/safe_eval.py", line 397, in safe_eval
    return unsafe_eval(c, globals_dict, None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "ir.actions.server(449,)", line 6, in <module>
  File "/opt/odoo/auto/addons/mail/models/discuss/res_groups.py", line 10, in write
    res = super().write(vals)
          ^^^^^^^^^^^^^^^^^^^
  File "/opt/odoo/custom/src/odoo/odoo/addons/base/models/res_groups.py", line 191, in write
    res = super().write(vals)
          ^^^^^^^^^^^^^^^^^^^
  File "/opt/odoo/custom/src/odoo/odoo/orm/models.py", line 4383, in write
    raise ValueError(f"Invalid field {field_name!r} in {self._name!r}") from e
ValueError: Invalid field 'users' in 'res.groups'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/odoo/auto/addons/rpc/controllers/xmlrpc.py", line 162, in xmlrpc_2
    response = self._xmlrpc(service)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/odoo/auto/addons/rpc/controllers/xmlrpc.py", line 134, in _xmlrpc
    result = dispatch_rpc(service, method, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/odoo/custom/src/odoo/odoo/http.py", line 439, in dispatch_rpc
    return dispatch(method, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/odoo/custom/src/odoo/odoo/service/model.py", line 129, in dispatch
    res = execute_cr(cr, uid, model, method_, args, kw)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/odoo/custom/src/odoo/odoo/service/model.py", line 146, in execute_cr
    result = retrying(partial(call_kw, recs, method, args, kw), env)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/odoo/custom/src/odoo/odoo/service/model.py", line 184, in retrying
    result = func()
             ^^^^^^
  File "/opt/odoo/custom/src/odoo/odoo/service/model.py", line 93, in call_kw
    result = method(recs, *args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_actions.py", line 1177, in run
    res = action._run(records, eval_context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_actions.py", line 1190, in _run
    res = runner(run_self, eval_context=eval_context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/odoo/auto/addons/website/models/ir_actions_server.py", line 59, in _run_action_code_multi
    res = super()._run_action_code_multi(eval_context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_actions.py", line 1014, in _run_action_code_multi
    safe_eval(self.code.strip(), eval_context, mode="exec", filename=str(self))
  File "/opt/odoo/custom/src/odoo/odoo/tools/safe_eval.py", line 403, in safe_eval
    raise ValueError('%r while evaluating\n%r' % (e, expr))
ValueError: ValueError("Invalid field 'users' in 'res.groups'") while evaluating
"user = env['res.users'].search([('login', '=', 'xtendoo')], limit=1)\nxml_ids = ['base.group_system', 'account.group_account_manager']\nfor xml_id in xml_ids:\n    group = env.ref(xml_id, False)\n    if group and user:\n        group.sudo().write({'users': [(4, user.id)]})"

Traceback (most recent call last):
  File "/home/xtendoo/Documentos/odoo/skills/odoo-provisioning/provision.py", line 547, in <module>
    main()
    ~~~~^^
  File "/home/xtendoo/Documentos/odoo/skills/odoo-provisioning/provision.py", line 527, in main
    ensure_user(models, db, uid, password, u)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/xtendoo/Documentos/odoo/skills/odoo-provisioning/provision.py", line 456, in ensure_user
    model_exec(
    ~~~~~~~~~~^
        models, db, uid, password, "ir.actions.server", "run", [action_id]
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/xtendoo/Documentos/odoo/skills/odoo-provisioning/provision.py", line 105, in model_exec
    raise e
  File "/home/xtendoo/Documentos/odoo/skills/odoo-provisioning/provision.py", line 89, in model_exec
    return models.execute_kw(db, uid, password, model, method, args, kwargs)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/xmlrpc/client.py", line 1096, in __call__
    return self.__send(self.__name, args)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/xmlrpc/client.py", line 1435, in __request
    response = self.__transport.request(
        self.__host,
    ...<2 lines>...
        verbose=self.__verbose
        )
  File "/usr/lib/python3.13/xmlrpc/client.py", line 1140, in request
    return self.single_request(host, handler, request_body, verbose)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/xmlrpc/client.py", line 1156, in single_request
    return self.parse_response(resp)
           ~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib/python3.13/xmlrpc/client.py", line 1325, in parse_response
    return u.close()
           ~~~~~~~^^
  File "/usr/lib/python3.13/xmlrpc/client.py", line 642, in close
    raise Fault(**self._stack[0])
xmlrpc.client.Fault: <Fault 1: 'Traceback (most recent call last):\n  File "/opt/odoo/custom/src/odoo/odoo/orm/models.py", line 4381, in write\n    self._check_field_access(self._fields[field_name], \'write\')\n                             ~~~~~~~~~~~~^^^^^^^^^^^^\nKeyError: \'users\'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/opt/odoo/custom/src/odoo/odoo/tools/safe_eval.py", line 397, in safe_eval\n    return unsafe_eval(c, globals_dict, None)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "ir.actions.server(449,)", line 6, in <module>\n  File "/opt/odoo/auto/addons/mail/models/discuss/res_groups.py", line 10, in write\n    res = super().write(vals)\n          ^^^^^^^^^^^^^^^^^^^\n  File "/opt/odoo/custom/src/odoo/odoo/addons/base/models/res_groups.py", line 191, in write\n    res = super().write(vals)\n          ^^^^^^^^^^^^^^^^^^^\n  File "/opt/odoo/custom/src/odoo/odoo/orm/models.py", line 4383, in write\n    raise ValueError(f"Invalid field {field_name!r} in {self._name!r}") from e\nValueError: Invalid field \'users\' in \'res.groups\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/opt/odoo/auto/addons/rpc/controllers/xmlrpc.py", line 162, in xmlrpc_2\n    response = self._xmlrpc(service)\n               ^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/odoo/auto/addons/rpc/controllers/xmlrpc.py", line 134, in _xmlrpc\n    result = dispatch_rpc(service, method, params)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/odoo/custom/src/odoo/odoo/http.py", line 439, in dispatch_rpc\n    return dispatch(method, params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/odoo/custom/src/odoo/odoo/service/model.py", line 129, in dispatch\n    res = execute_cr(cr, uid, model, method_, args, kw)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/odoo/custom/src/odoo/odoo/service/model.py", line 146, in execute_cr\n    result = retrying(partial(call_kw, recs, method, args, kw), env)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/odoo/custom/src/odoo/odoo/service/model.py", line 184, in retrying\n    result = func()\n             ^^^^^^\n  File "/opt/odoo/custom/src/odoo/odoo/service/model.py", line 93, in call_kw\n    result = method(recs, *args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_actions.py", line 1177, in run\n    res = action._run(records, eval_context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_actions.py", line 1190, in _run\n    res = runner(run_self, eval_context=eval_context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/odoo/auto/addons/website/models/ir_actions_server.py", line 59, in _run_action_code_multi\n    res = super()._run_action_code_multi(eval_context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_actions.py", line 1014, in _run_action_code_multi\n    safe_eval(self.code.strip(), eval_context, mode="exec", filename=str(self))\n  File "/opt/odoo/custom/src/odoo/odoo/tools/safe_eval.py", line 403, in safe_eval\n    raise ValueError(\'%r while evaluating\\n%r\' % (e, expr))\nValueError: ValueError("Invalid field \'users\' in \'res.groups\'") while evaluating\n"user = env[\'res.users\'].search([(\'login\', \'=\', \'xtendoo\')], limit=1)\\nxml_ids = [\'base.group_system\', \'account.group_account_manager\']\\nfor xml_id in xml_ids:\\n    group = env.ref(xml_id, False)\\n    if group and user:\\n        group.sudo().write({\'users\': [(4, user.id)]})"\n'>
